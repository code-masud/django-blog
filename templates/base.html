{% load static %}
{% load bootstrap5 %}
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <title>{{ company_data.name|default:'MyBlog' }} | {% block title %}{% endblock  %}</title>
        <meta name="viewport" content="width=device-width, initial-scale=1">

        {% block seo_tag %}
        <meta name="description" content="{{ company_data.description|default:'Blog Site'}}">
        <link rel="canonical" href="{{ request.build_absolute_uri }}">
        <meta name="robots" content="index, follow">
        <meta property="og:type" content="website">
        <meta property="og:title" content="{{ company_data.name|default:'MyBlog'}}">
        <meta property="og:description" content="{{ company_data.description|default:'Blog Site'}}">
        <meta property="og:url" content="{{ request.build_absolute_uri }}">
        <meta property="og:site_name" content="{{ company_data.name|default:'MyBlog'}}">
        {% if company_data.logo %}
        <meta property="og:image" content="{{ request.scheme }}://{{ request.get_host }}{{ company_data.logo.url }}">
        {% endif %}
        <meta name="twitter:card" content="summary_large_image">
        <meta name="twitter:title" content="{{ company_data.name|default:'MyBlog'}}">
        <meta name="twitter:description" content="{{ company_data.description|default:'MyBlog'}}">
        {% if company_data.logo %}
        <meta name="twitter:image" content="{{ request.scheme }}://{{ request.get_host }}{{ company_data.logo.url }}">
        {% endif %}
        {% endblock  %}

        {% if company_data.logo %}
        <link rel="icon" href="{{ request.scheme }}://{{ request.get_host }}{{ company_data.logo.url }}" type="image/x-icon">
        {% endif %}

        {% block structured_data %}
        <script type="application/ld+json">
        {
            "@context": "https://schema.org",
            "@type": "WebSite",
            "@id": "{{ request.scheme }}://{{ request.get_host }}/#website",
            "url": "{{ request.scheme }}://{{ request.get_host }}",
            "name": "{{ company_data.name }}",
            "logo": {
                "@type": "ImageObject",
                "url": "{{ request.scheme }}://{{ request.get_host }}{{ company_data.logo.url }}"
            }
            "publisher": {
                "@id": "{{ request.scheme }}://{{ request.get_host }}/#organization"
            },
            "potentialAction": {
                "@type": "SearchAction",
                "target": "{{ request.scheme }}://{{ request.get_host }}/search/?q={search_term_string}",
                "query-input": "required name=search_term_string"
            }
        }
        </script>
        {% endblock  %}
        {% bootstrap_css %}
    </head>
    <body>
        {% include 'navbar.html' %}
        <div class="container mt-3">
            {% if messages %}
                {% for message in messages %}
                <div class="alert alert-{{ message.tags }} alert-dismissible fade show shadow-sm" role="alert">
                    {{ message }}
                    <button type="button" class="btn-close" data-bs-dismiss="alert"></button>
                </div>
                {% endfor %}
            {% endif %}
        </div>
        <!-- MAIN CONTENT -->
        <div class="container my-2">
            <div class="row">
                <!-- BLOG POSTS -->
                <div class="col-lg-8">
                    {% block content %}{% endblock  %}
                </div>
                {% include 'sidebar.html' %}
            </div>
        </div>
        {% include 'footer.html' %}
    {% bootstrap_javascript %}
    </body>
</html>
